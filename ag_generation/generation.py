import os, time, csv
import os.path, sys
sys.path.append(os.path.join(os.path.dirname(os.path.realpath(__file__)), os.pardir))

import config

# def generate_ag_models(params):
#     filename, model = params

#     if not os.path.exists(config.GRAPH_FOLDER): os.makedirs(config.GRAPH_FOLDER)
#     generated_files = os.listdir(config.GRAPH_FOLDER)

#     if model == "NETSPA":
#         if "NETSPA_"+filename.split(".json")[0]+".graphml" not in generated_files:
#             start_netspa = time.perf_counter()
#             NETSPA.build_model_graph(filename)
#             end_netspa = time.perf_counter()
#             generation_time = end_netspa-start_netspa
#             with open(config.STATS_FOLDER+config.graph_stats_file,'a',newline='') as fd:
#                 params_network_ag = [model]+filename.split(".json")[0].split("_")+[generation_time]
#                 writer = csv.writer(fd)
#                 writer.writerow(params_network_ag)
#     elif model == "TVA":
#         if "TVA_"+filename.split(".json")[0]+".graphml" not in generated_files:
#             start_tva = time.perf_counter()
#             TVA.build_model_graph(filename)
#             end_tva = time.perf_counter()
#             generation_time = end_tva-start_tva
#             with open(config.STATS_FOLDER+config.graph_stats_file,'a',newline='') as fd:
#                 params_network_ag = [model]+filename.split(".json")[0].split("_")+[generation_time]
#                 writer = csv.writer(fd)
#                 writer.writerow(params_network_ag)
