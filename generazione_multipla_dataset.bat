@echo off

echo "Generazione multipla"

:: H10
set /A h=10
set /A v=10
for /l %%s in (101,1,106) do (
    start "generatore" dataset_generator\genera_dataset.bat %%s %h% %v%
)

:loop
  timeout /t 1 >nul
  tasklist /fi "windowtitle eq generatore*" |find "WindowsTerminal.exe" >nul && goto :loop
echo Generato h %h% v %v%

set /A v=100
for /l %%s in (101,1,106) do (
    start "generatore" dataset_generator\genera_dataset.bat %%s %h% %v%
)

:loop
  timeout /t 1 >nul
  tasklist /fi "windowtitle eq generatore*" |find "WindowsTerminal.exe" >nul && goto :loop
echo Generato h %h% v %v%


:: H100
set /A h=100
set /A v=10
for /l %%s in (101,1,106) do (
    start "generatore" dataset_generator\genera_dataset.bat %%s %h% %v%
)

:loop
  timeout /t 1 >nul
  tasklist /fi "windowtitle eq generatore*" |find "WindowsTerminal.exe" >nul && goto :loop
echo Generato h %h% v %v%

set /A v=100
for /l %%s in (101,1,106) do (
    start "generatore" dataset_generator\genera_dataset.bat %%s %h% %v%
)

:loop
  timeout /t 1 >nul
  tasklist /fi "windowtitle eq generatore*" |find "WindowsTerminal.exe" >nul && goto :loop
echo Generato h %h% v %v%





echo "Passaggio finale"
call dataset_filter_aggregation\calcola_filtro_aggregazione_dataset.bat

exit